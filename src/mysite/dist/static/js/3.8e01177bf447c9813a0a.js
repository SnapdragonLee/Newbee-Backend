webpackJsonp([3],{W8cv:function(t,e){},s6np:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={components:{Mypagination:a("ZILr").a},data:function(){return{input:"",tableData:[],tableChecked:[],ids:[],total:10,pageSize:12,page:1,type:1,num:1,val:""}},created:function(){this.get_information(1)},methods:{searchinput:function(t,e){var a=this;if(console.log(t),!t)return this.$router.go(0),void(type=1);console.log("搜索",e),this.val=t,this.$axios.get("/api/admin/designated_user/",{params:{name:t,pagesize:12,pagenumber:e}}).then(function(t){0===t.data.ret?(console.log(a.num),a.tableData=t.data.list,a.type=2,a.total=t.data.total):(a.type=2,a.total=t.data.total)})},handleSelectionChange:function(t){var e=t.map(function(t){return t.id});this.tableChecked=e},handleEdit:function(){},batchDelete:function(t){var e=this;t.length<=0?this.$message.info("未选中数据"):this.$confirm("此操作将永久删除用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$axios.delete("/api/admin/list_user/",{params:{userid:t},paramsSerializer:function(t){return e.$qs.stringify(t,{indices:!1})}}).then(function(t){0===t.data.ret?(e.$message({type:"success",message:"删除成功!"}),e.$router.go(0)):e.$message({type:"info",message:"删除失败"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},handleDelete:function(t,e){var a=this;this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.delete("/api/admin/list_user/",{params:{userid:e.id}}).then(function(t){0===t.data.ret?(a.$message({type:"success",message:"删除成功!"}),a.$router.go(0)):a.$message({type:"info",message:"删除失败"})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})},get_information:function(t){var e=this;this.$axios.get("/api/admin/list_user/",{params:{pagenumber:t,pagesize:12}}).then(function(t){console.log(t),0===t.data.ret&&(console.log(t.data),e.tableData=t.data.list,e.total=t.data.total,console.log(t))})},changePage:function(t){1===this.type?this.get_information(t):(console.log("搜索的分页处理"),this.searchinput(this.val,t))}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"total"},[t._m(0),t._v(" "),a("div",{staticClass:"user"},[a("div",{staticClass:"userheader"},[a("el-input",{attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchinput(t.input,t.num)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.searchinput(t.input,t.num)}}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"primary"}},[t._v("添加")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.batchDelete(t.tableChecked)}}},[t._v("批量删除")])],1),t._v(" "),a("div",{staticClass:"wrapper"},[a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"用户名称",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"用户id",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"numm",label:"单选数量",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"numc",label:"完型数量",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"numr",label:"阅读数量",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operate",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("div",[a("Mypagination",{attrs:{total:t.total,pageSize:t.pageSize},on:{changePage:t.changePage}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title1"},[e("h4",[this._v("首页/用户管理")])])}]};var s=a("VU/8")(n,i,!1,function(t){a("W8cv")},"data-v-9350c8ca",null);e.default=s.exports}});
//# sourceMappingURL=3.8e01177bf447c9813a0a.js.map